<!DOCTYPE html>
<html>
<head>
  <title>Professional Badger Portal</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
  <style>
    .animation-container-dashboard {
      position: relative;
      width: 100vw;
      height: 100vh;
      display: flex;
      flex-direction: column;
      background: radial-gradient(circle, #0f4c81 0%, #1a237e 100%);
    }
    
    .title-button-container {
      display: flex;
      justify-content: space-between; /* Pushes items to opposite sides */
      align-items: center; /* Perfect vertical alignment */
      width: 100%;
      padding: 10px 15px;
    }
  </style>
</head>
<body>
  <div class="animation-container-dashboard">
    <!-- Title with button on right -->
    <div class="title-button-container">
        <h1 class="myclasses_title">{{ classroom_name}} DASHBOARD</h1>
        <a href="/badger_report?classroom_id={{ classroom_id }}" 
        class="use-me-btn" 
        id="helpButton"
        target="_blank"
        onclick="return openHelpWindow(event, this)">
       <img src="/static/images/badger_glasses.png" alt="Icon" class="button-icon">
        REPORT
     </a>
</div>

<script>
function openHelpWindow(event, element) {
  event.preventDefault();
  
  const url = element.href;
  
  // Debug: Log the URL to verify classroom_id is present
  console.log("Popup URL will be:", url);
  
  if (!url.includes("classroom_id=") || url.endsWith("classroom_id=")) {
    alert("Error: classroom_id is missing!"); // Alert if ID is missing
    return false;
  }
  
  const width = 800;
  const height = 600;
  const left = (screen.width - width) / 2;
  const top = (screen.height - height) / 2;

  const newWindow = window.open(
    url,
    'badgerReportWindow',
    `width=${width},height=${height},left=${left},top=${top},
    location=yes,menubar=no,toolbar=no,status=no,resizable=yes,scrollbars=yes`
  );

  if (!newWindow) {
    window.location.href = url;  // Fallback if pop-up blocked
  }

  return false;
}

</script>
    
    <!-- Dashboard Container -->
    <div class="dashboard-iframe-container">
      <iframe src="/dashboard/?classroom_id={{ classroom_id }}" style="border:none; margin-top:50px"></iframe>
    </div>
  </div>
</body>
</html>


